{"ast":null,"code":"var _jsxFileName = \"/Users/dkhetawat/Desktop/channel-app-code/mec-rockstar-aem/react-app/src/components/Products.js\";\n\n/*\nCopyright 2022 Adobe\nAll Rights Reserved.\n\nNOTICE: Adobe permits you to use, modify, and distribute this file in\naccordance with the terms of the Adobe license agreement accompanying\nit.\n*/\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport CurrencyFormat from 'react-currency-format';\nimport { getAllProducts, getProductByCategory } from '../api/persistedQueries';\nimport Error from './Error';\nimport Loading from './Loading';\nimport './Products.scss';\nimport LocaleContext from '../LocaleContext';\nimport { useContext } from \"react\";\nimport Footer from './Footer';\n\nfunction Products({\n  productCategory\n}) {\n  const {\n    locale\n  } = useContext(LocaleContext);\n  const [response, setResponse] = useState();\n  console.log(\"Products\", locale);\n  console.log(\"productCategory\", productCategory);\n  useEffect(() => {\n    // set response to null while fetching the new data (prompts loading icon)\n    setResponse();\n    console.log(\"30\"); // if an category is set (i.e \"appliances\", \"wearables\"...)\n\n    if (productCategory && productCategory !== '') {\n      console.log(\"33\");\n      getProductByCategory(productCategory, locale).then(response => setResponse(response));\n    } else {\n      console.log(\"38\");\n      getAllProducts(locale).then(response => setResponse(response));\n    }\n  }, [productCategory, locale]); //If response is null then return a loading state...\n\n  if (!response) return /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 26\n    }\n  }); //If there is an error with the GraphQL query\n\n  if (response && response.errors) return /*#__PURE__*/React.createElement(Error, {\n    errorMessage: response.errors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 44\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"adventures\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"adventure-items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, //Iterate over the returned data items from the query\n  response.data.productList.items.map(adventure => {\n    return /*#__PURE__*/React.createElement(ProductListItem, Object.assign({\n      key: adventure.slug\n    }, adventure, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 25\n      }\n    }));\n  })), /*#__PURE__*/React.createElement(Footer, {\n    response: response,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }));\n} //         Price:    <CurrencyFormat value={productCentralInfoFragment.productPrice} displayType={'text'} thousandSeparator={true} prefix={'$'} />\n\n\nfunction ProductListItem({\n  productTitle,\n  slug,\n  productImage,\n  productCentralInfoFragment,\n  productCategory\n}) {\n  const {\n    locale\n  } = useContext(LocaleContext);\n  var productNew = false;\n  var productStatus = \"\";\n\n  if (productCentralInfoFragment.isProductNew) {\n    productStatus = \"NEW\";\n  }\n\n  if (!productTitle || !slug || !productImage) {\n    return null;\n  }\n\n  let productPath = `/product/${locale}/${slug}/`;\n  return /*#__PURE__*/React.createElement(\"li\", {\n    className: \"adventure-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: productPath,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"adventure-item-image\",\n    src: productImage._path,\n    width: \"100px\",\n    height: \"100px\",\n    alt: productTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"adventure-item-length-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"adventure-item-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, productTitle), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }), \"   Category: \", productCategory, \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 47\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"adventure-item-length\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, \"Model: \", productCentralInfoFragment.productModel, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }), \"  \", productStatus, \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 34\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"adventure-item-length\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, productStatus), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  })));\n}\n\nexport default Products;","map":{"version":3,"names":["React","useState","useEffect","Link","CurrencyFormat","getAllProducts","getProductByCategory","Error","Loading","LocaleContext","useContext","Footer","Products","productCategory","locale","response","setResponse","console","log","then","errors","data","productList","items","map","adventure","slug","ProductListItem","productTitle","productImage","productCentralInfoFragment","productNew","productStatus","isProductNew","productPath","_path","productModel"],"sources":["/Users/dkhetawat/Desktop/channel-app-code/mec-rockstar-aem/react-app/src/components/Products.js"],"sourcesContent":["/*\nCopyright 2022 Adobe\nAll Rights Reserved.\n\nNOTICE: Adobe permits you to use, modify, and distribute this file in\naccordance with the terms of the Adobe license agreement accompanying\nit.\n*/\nimport React, {useState, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport CurrencyFormat from 'react-currency-format';\nimport {getAllProducts, getProductByCategory} from '../api/persistedQueries';\nimport Error from './Error';\nimport Loading from './Loading';\nimport './Products.scss';\nimport LocaleContext from '../LocaleContext';\nimport { useContext } from \"react\";\nimport Footer from './Footer';\n\nfunction Products({productCategory}) {\n\n    const { locale } = useContext(LocaleContext);\n    const [response, setResponse] = useState();\n    console.log(\"Products\",locale);\n    console.log(\"productCategory\",productCategory);\n    useEffect(() => {\n\n        // set response to null while fetching the new data (prompts loading icon)\n        setResponse();\nconsole.log(\"30\");\n        // if an category is set (i.e \"appliances\", \"wearables\"...)\n        if(productCategory && productCategory !== '') {\n                console.log(\"33\");\n            getProductByCategory(productCategory, locale)\n                .then(response => setResponse(response));\n\n        }\n        else {\n        console.log(\"38\");\n            getAllProducts(locale)\n                .then(response => setResponse(response));\n        }\n      }, [productCategory, locale])\n\n    //If response is null then return a loading state...\n    if(!response) return <Loading />;\n\n    //If there is an error with the GraphQL query\n    if(response && response.errors) return <Error errorMessage={response.errors} />;\n    \n    return (\n        <div className=\"adventures\">\n          <ul className=\"adventure-items\">\n            {\n                //Iterate over the returned data items from the query\n                response.data.productList.items.map((adventure) => {\n                    return (\n                        <ProductListItem key={adventure.slug} {...adventure} />\n                    );\n                })\n            }\n            </ul>\n      <Footer response={response}/>\n        </div>\n    );\n}\n\n//         Price:    <CurrencyFormat value={productCentralInfoFragment.productPrice} displayType={'text'} thousandSeparator={true} prefix={'$'} />\nfunction ProductListItem({productTitle, slug, productImage, productCentralInfoFragment,productCategory}) {\n    const { locale } = useContext(LocaleContext);\n  var productNew = false;\n  var productStatus = \"\";\n  if(productCentralInfoFragment.isProductNew) {\n  productStatus = \"NEW\"\n  }\n  if(!productTitle || !slug || !productImage ) {\n    return null;\n  }\n  let productPath= `/product/${locale}/${slug}/`;\n  return (\n        <li className=\"adventure-item\">\n          <Link to={productPath}>\n            <img className=\"adventure-item-image\" src={productImage._path} width =\"100px\" height= \"100px\"\n                 alt={productTitle}/>\n          </Link>\n          <div className=\"adventure-item-length-price\">\n            <div className=\"adventure-item-title\">{productTitle}</div>\n          <br/>   Category: {productCategory} <br/>\n          <div className=\"adventure-item-length\">\n              Model: {productCentralInfoFragment.productModel}\n          <br/>  {productStatus} <br/>\n          </div>\n          <div className=\"adventure-item-length\">\n              {productStatus}\n           </div>\n          <br/>\n          </div>\n      </li>\n      );\n}\n\nexport default Products;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}